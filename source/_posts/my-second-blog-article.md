---
title: my second blog article
date: 2020-07-17 08:48:44
tags:
---
### 基本类型和引用类型

变量可能包括两种不同数据类型的值：基本和引用 

引用类型的值 javascript不允许直接操作对象的内存空间 实际是在操作对象的引用，因此 引用类型的值是按引用访问的。(当为对象添加属性时，操作的是实际的对象)



只有引用类型的值可以动态的添加属性 

```javascript
var person = new object();
person.name = "Nicholas";//"Nicholas"

var name = "judson";
judson.name = "kai"//undefined
```

#### 复制变量值

一个变量向另一个变量复制基本类型值和引用类型值 也不一样

**基本类型**的复制：在变量对象上创建一个新值，并复制给新变量分配的位置上 两个变量的值完全独立，互不影响。



**引用类型**的复制：复制的其实是指针，复制结束之后，两个指针指向同一个对象，因此，改变其中一个变量，可能会影响另一个



#### 传递参数

JS中所有函数的参数都是按值传递的

#### 检测对象类型

typeof检测基本数据类型的工具 但是如果是对象，就会显示object

如果想要具体知道是什么类型的对象，我们可以使用***instanceof***操作符

### 作用域和执行环境

#### 执行环境 execution context 

==***执行环境***==定义了变量或函数有权访问的其他数据，决定了它们各自的行为 

每个执行环境中都有一个相关联的***变量对象 variable object***环境中定义的所有==***变量和函数***==都在这个对象中。

***全局执行环境***：最外围的执行环境 在web浏览器中 全局执行环境被认为是window对象 直到应用程序退出 全局执行环境才会被销毁

每个函数都有自己的执行环境 

#### 作用域链

当代码在一个环境中执行时，会创建==**变量对象**==的一个作用域链

==内部访问外部==

都是**内部环境**可以通过作用域链访问所有外部环境，但是外部环境不能访问内部环境中的任何变量和函数，这些环境之间的联系是线性的、有序的。

####延长作用域链

try-catch中的catch块 

with语句 p93

### JS没有块级作用域

在if条件语句内部定义的变量声明会将变量添加到当前循环外部的执行环境中  就是在 if 或者 for循环外部也能调用 

```javascript
for(var i=0;i<10;i++){
  doSomething(i);
}
alert(i)//10 在循环外部i也能访问到
```

JS==没有块级作用域== 但是有==函数作用域==  在函数内部定义的变量 在整个函数内部的任何位置都是可见的

### 垃圾清理

1.标记清理

2.引用计数 =>有缺陷 循环引用 造成内存浪费
